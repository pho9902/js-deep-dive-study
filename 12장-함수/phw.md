# 12장 함수

일련의 과정을 문으로 구현하고 코드 블록으로 감싸서 하나의 실행 단위로 정의 한 것
함수는 객체지만 일반 객체와는 다르다 (호출할 수 있음, 함수 객체만의 고유 프로퍼티를 가짐)

- 함수 선언문은 표현식이 아닌 문이다.
- 함수 표현식은 표현식인 문이다.

```js
//함수 선언문
function foo() {
  console.log("함수선언문");
}

const bar = function () {
  console.log("함수표현식");
};
```

- 자바스크립트 엔진은 생성된 함수를 호출하기 위해 함수 이름과 동일한 이름의 식별자를 암묵적으로 생성하고 거기에 함수 객체를 할당한다.
- 함수 이름으로 호출하는것이 아니라 함수 객체를 가리키는 식별자로 호출함
- js에서의 함수처럼 값의 성질을 갖는 객체를 일급 객체라고 함

## 함수 생성 시점과 함수 호이스팅

- 함수 선언문으로 정의할 경우 런타임 이전에 함수 객체가 먼저 생성됨(함수 호이스팅)
  - 변수 호이스팅과 달리 선언문 이전에 호출가능 (변수호이스팅 => undefined초기화)
- 함수 표현식으로 함수를 정의하면 함수 호이스팅이 발생하는것이 아닌 변수 호이스팅이 발생

---

**이상적인 함수는 한가지 일만 해야 하며 가급적 작게 만들어야 한다**

## 외부 상태 변경

- 원시타입 인수를 전달 받은 경우 원본을 해치는일 없이 새로운 값으로 교체
- 객체타입 인수의 경우 원본을 직접 변경하는 부수효과 발생 가능

## 다양한 함수의 형태

1. 즉시 실행 함수
   - 단 한번만 호출되며 다시 호출 불가능
   - 반드시 그룹 연산자로 감싸야함
   ```js
   (function (a) {
     return a + 5;
   })(3); //익명 즉시 실행 함수
   ```
2. 재귀 함수

- 재귀 호출(함수가 자기 자신을 호출하는것)을 하는 함수
- 재귀함수는 무한 재귀 호출 하기 때문에 반드시 탈출 조건을 만들어야 한다.(스택 오버플로우)
- 대부분의 재귀함수는 반복문으로 구현 가능

```js
function count(n) {
  if (n < 0) return;
  console.log(n);
  count(n - 1);
}

count(10); // => 10 9 8 ... 1 0
```

3. 콜백 함수

- 함수의 매개변수를 통해 다른 함수의 내부로 전달되는 함수
- 콜백 함수를 전다받은 함수를 고차 함수 라고함
- 고차함수는 콜백함수의 호출 시점을 결정해서 호출한다
  - 콜백함수가 고차함수에 의해 호출 될때 콜백함수에 인자 전달 가능

4. 순수 함수, 비순수 함수

- 순수 함수 : 어떤 외부상태에도 의존, 변경 하지 않는(부수효과가 없는) 함수
  - 동일한 인수가 전달되면 언제나 동일한 값 반환
- 비순수 함수 : 부수효과가 있는 함수

  - 외부 상태에 따라 반환값이 달라짐

- 함수형 프로그래밍은 부수효과를 최대한 억제해 프로그램의 안전성을 높이는 노력의 일환(순수 함수 활용)
