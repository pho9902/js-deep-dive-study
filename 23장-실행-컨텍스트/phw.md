# 23장 실행-컨텍스트

## 소스코드 타입

- 타입에 따라 실행 컨텍스트 생성과정, 관리내용이 다르기 때문에 ECMA Script 코드 타입이 구분된다
  1. 전역
  - 전역 객체의 프로퍼티와 메서드로 바인딩, 참조하기 위해 전역 객체와 연결되어야 한다. 이를 위해 전역 코드가 평가되면 전역 실행 컨텍스트가 생성된다.
  2. 함수
  - 함수 지역 스코프를 지역 변수, 매개변수, arguments 객체를 관리
  - 생성한 지역 스코프를 스코프체인의 일원으로 연결하기위해 함수 코드가평가되면 함수 실행 컨텍스트가 생성된다.
  3. eval
  - eval 코드는 strict mode 엄격 모드 에서 자신만의 독자적인 스코프를 생성한다. 이를 위해 eval 코드가 평가되면 eval 실행 컨텍스트가 생성된다.
  4. 모듈
  - 모듈 코드는 모듈별로 독립적인 모듈 스코프를 생성한다. 이를 위해 모듈 코드가 평가되면 모듈 실행 컨텍스트가 생성된다.

## 소스코드의 평가와 실행

- 자바스크립트 엔진은 2개의 과정 소스코드의 평가, 소스코드의 실행 과정으로 나눠 처리한다.

1. 평가과정

- 실행 컨텍스트를 생성하고 변수, 함수 등의 선언문만 먼저 실행하여 생성된 변수나 함수 식별자를 키로 실행 컨텍스트가 관리하는 스코프에 등록한다.

2. 실행과정(런타임)

- 소스코드 실행에 필요한 정보, 변수나 함수의 참조를 실행 컨텍스트가 관리하는 스코프에서 검색해서 취득한다
- 변수 값의 변경 등 소스코드의 실행 결과는 다시 실행 컨텍스트가 관리하는 스코프에 등록된다.

## 실행 컨텍스트

> 코드가 실행되려면 다음과 같이 스코프, 식별자, 코드 실행 순서 등의 관리가 필요하다

> 실행 컨텍스트는 소스코드를 실행하는 필요한 환경을 제공하고 코드의 실행 결과를 실제로 관리하는 영역이다.

- 실행 컨텍스트의 렉시컬 환경: 식별자와 스코프 관리
- 실행 컨텍스트 스택 : 코드 실행 순서 관리

## 실행 컨텍스트 스택

- 실행 컨텍스트가 생성될때 생성되는 자료구조
- 실행 컨텍스트 스택의 최상위에 존재하는 실행 컨텍스트는 언제나 현재 실행 중인 코드의 실행 컨텍스트다
- 실행 중인 실행 컨텍스트: 실행 컨텍스트 스택의 최상위에 존재하는 실행 컨텍스트

## 렉시컬 환경

- 실행 컨텍스트를 구성하는 컴포넌트
- 식별자와 식별자에 바인딩된 값, 그리고 상위 스코프에 대한 참조를 기록하는 자료구조
