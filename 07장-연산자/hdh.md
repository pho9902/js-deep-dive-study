# 07장 연산자

### 연산자란?

- 하나 이상의 표현식을 대상으로 연산을 수행해 하나의 값을 만듦.
- 연산의 대상을 피연산자라 함. 피연산자는 값으로 평가될 수 있는 표현식이어야 함.

### 1. 산술 연산자

- 피연산자를 대상으로 수학적 계산을 수행해 새로운 숫자 값을 만듦.

- 연산이 불가능한 경우 NaN을 반환함.

- **이항 산술 연산자**
  - 2개의 피연산자를 산술 연산하여 숫자 값을 만듦.
  - 모든 이항 산술 연산자는 부수 효과(side effect)가 없음.
  - 즉, 어떤 산술 연산을 해도 피연산자의 값이 직접 바뀌는 경우가 없고 새로운 값을 만듦.
  - 이항 산술 연산자는 덧셈(+), 뺄셈(-), 곱셈(\*), 나눗셈(/), 나머지(%)가 있음.
  - `+` 연산자는 문자열이 아닌 원시 타입에 대해 암묵적 타입 변환 수행
    true는 숫자 1, false는 숫자 0, null은 숫자 0, undefined는 NaN으로 타입 변환
- **단항 산술 연산자**
  - 1개의 피연산자를 산술 연산하여 숫자 값을 만듦.
  - 증가(++), 감소(--), 양수 음수 반전(-)이 있음.
  - 증가, 감소 연산자는 위치에 따라 전위(prefix)와 후위(postfix)로 나눔.
  - 전위는 먼저 값을 증가/감소시킨 후 연산을 수행.
  - 후위는 연산을 수행한 후 값을 증가/감소시킴.
- **문자열 연결 연산자**
  - `+` 연산자는 피연산자 중 하나 이상이 문자열인 경우에 문자열 연결 연산자로 동작함.
    = ex. 1 + 2 = 3 이지만 ‘1’ + 2 = 12임.

### 2. 할당 연산자

- 할당 연산자는 우항에 있는 피연산자의 평과 결과를 좌항의 변수에 할당.

- 좌항에 변수에 값을 할당하므로 변수 값이 변하는 부수 효과가 있음.

- **=, +=, -=, \*=, /=, %=**이 있음

- 할당문은 값으로 표현되는 표현식임 console.log(x=2); —> 2

### 3. 비교 연산자

- **동등/일치 비교 연산자**
  | 비교 연산자 | 의미 | 사례 | 설명 | 부수 효과 |
  | ----------- | ----------- | ------- | ------------------------ | --------- |
  | == | 동등 비교 | x == y | x와 y의 값이 같음 | X |
  | === | 일치 비교 | x === y | x와 y의 값과 타입이 같음 | X |
  | != | 부동등 비교 | x != y | x와 y의 값이 다름 | X |
  | !== | 불일치 비교 | x !== y | x와 y의 값과 타입이 다름 | X |
  - 동등 비교 연산자(==)는 좌항과 우항의 피연산자를 비교할 때 암묵적 타입 변환을 수행한 후 결과를 비교하기 때문에 타입이 달라도 반환 값이 true가 될 수 있으므로 사용하지 않는 것이 좋음
  - 일치 비교 연산자(===)는 타입도 같고 값도 같은 경우에 한해서 true를 반환함. 즉, 암묵적 타입 변환을 하지 않고 값을 비교하기 때문에 예측하기 쉬움.
  - 주의할 것은 NaN과 숫자 0 NaN은 자기 자신과 일치하지 않는 유일한 값으로 숫자가 NaN인지 조사하려면 빌트인 함수인 number.isNaN()을 사용. 자바스크립트에는 양의 0과 음의 0이 있는데 동등/일치 비교 연산자 모두 0과 -0을 비교하면 true를 반환.
- **대소 관계 비교 연산자**
  | 비교 연산자 | 예제 | 설명 | 부수 효과 |
  | ----------- | ------ | --------------------- | --------- |
  | > | x > y | x가 y보다 크다 | X |
  | < | x < y | x가 y보다 작다 | X |
  | >= | x >= y | x가 y보다 크거나 같다 | X |
  | <= | x <= y | x가 y보다 작거나 같다 | X |

### 4. 삼항 조건 연산자

- **조건식 ? 조건식이 true일 때 반환할 값 : 조건식이 false일 때 반환할 값**

- 첫 번째 피연산자는 **조건식,** true면 **두 번째 피연산자** 반환 false면 **세 번째 피연산자** 반환

- 삼항 조건 연산자 표현식은 표현식인 문으로 다른 표현식의 일부가 될 수 있음

### 5. 논리 연산자, 쉼표 연산자, 그룹 연산자

- 논리 연산자: 논리합(| |), 논리곱(&&), 부정(!)

- 논리합, 논리곱은 피연산자로 평가될 수도 있음(단축 평가)

- 쉽표 연산자(,)는 왼쪽 피연산자부터 평가. 마지막 피연산자의 평가가 끝나면 평과 결과 반환.

- 그룹 연산자(’( )’, 소괄호)로 감싸진 표현식을 가장 먼저 평가(우선순위가 가장 높음)

### 8. typeof 연산자

- 피연산자의 데이터 타입을 문자열로 반환.

- “string”, “number”, “boolean”, “undefined”, “symbol”, “object”, “function” 중 하나를 반환.

- “null”을 반환하는 경우는 없음. “null”의 반환 결과는 “object”(JavaScript 첫 번째 버전의 버그)

- null인지 확인하고 싶으면 typeof 연산자 대신 일치 비교 연산자(===)를 사용.

- 선언하지 않은 식별자를 typeof 연산자로 연산하면 undefined를 반환.

### 9. 지수 연산자

- ES7에서 도입된 연산자. 좌항의 피연산자를 밑으로, 우항의 피연산자를 지수로하여 계산

- ex. 2 ** 3 **// 8\*\*($2^3$)

- 지수 연산자 도입 이전에는 Math.pow 메서드를 이용. Math.pow(2, 3) **// 8**

- 음수를 밑으로 사용하려면 소괄호로 묶어야 함.

- 다른 산술 연산자와 마찬가지로 할당 연산자와 함께 사용 가능. \*\*=

- 이항 연산자 중에 우선순위가 가장 높음.

### 12. 연산자 우선순위

| 우선순위 | 연산자                                                                                 |
| -------- | -------------------------------------------------------------------------------------- | --- | --- |
| 1        | ( )                                                                                    |
| 2        | new(매개변수 존재), .(멤버 접근), [](프로퍼티 접근), ( )(함수호출), ? .(옵셔널 체이닝) |
| 3        | new(매개변수 미존재)                                                                   |
| 4        | x++, x—                                                                                |
| 5        | !x, +x, -x, ++x, --x, typeof, delete                                                   |
| 6        | \*\*(지수)                                                                             |
| 7        | \*, /, %                                                                               |
| 8        | +, -                                                                                   |
| 9        | <, <=, >, >=, in, instanceof                                                           |
| 10       | ==, !=, ===, !==                                                                       |
| 11       | ??(null 병합 연산자)                                                                   |
| 12       | &&                                                                                     |
| 13       |                                                                                        |     |     |
| 14       | ? … : …(삼항 조건 연산자)                                                              |
| 15       | 할당 연산자(=, +=, -=, …)                                                              |
| 16       | ,(쉼표 연산자)                                                                         |

### 13. 연산자 결합 순서

연산자의 어느 쪽(좌항 or 우항)부터 평가를 수행할 것인지 나타내는 순서.

| 결합 순서   | 연산자                                                                   |
| ----------- | ------------------------------------------------------------------------ | --- | ------------------------------------------------ |
| 좌항 → 우항 | +, -, /, %, <, <=, >, >=, &&,                                            |     | , .(멤버접근), [ ], ( ), ??, ? ., in, instanceof |
| 우항 → 좌항 | ++, --, 할당 연산자, !x, +x, -x, ++x, --x, typeof, delete, ? … : …, \*\* |
