# 11장 원시 값과 객체 값의 비교

## 본문 요약

원시 타입과 객체 타입은 크게 세가지 차이가 있다.

- 원시 타입의 값은 변경이 불가능한 값이지만 객체 타입은 변경이 가능한 값이다.
- 원시 값을 변수에 할당하면 변수에는 실제 값이 저장되지만 객체를 변수에 할당하면 참조 값이 저장된다.
- 원시 값을 갖는 변수를 다른 변수에 할당하면 원본의 원시 값이 복사 되어 저장된다. 객체 값을 값으로 갖는 변수를 다른 변수에 할당하면 원본의 참조 값이 복사 되어 전달된다.

# 11.1 원시 값

### 11.1.1 변경 불가능한 값

원시 값은 변경이 불가능 하다. 이를 변수에 할당과 혼동 할 수 있다. 변수에 값을 변경하는 것은 재할당을 통한 교체가 맞는 표현이다. 원시 값은 변경 되지 않고 새로운 원시 값으로 변경 하는 것이다. 또한 상수는 재할당이 금지된 변수이지 변경 불가능한 값이 아니다.

원시 값의 이러한 특성은 불변성이라고 부르기도 한다.

### 11.1.2 문자열과 불변성

문자열 또한 원시 타입으로 불변이다.

숫자 타입이 크기에 관계없이 8바이트 메모리를 차지하는 반면 문자열은 길이에 따라 다른 메모리 공간을 필요로 한다.

### 11.1.3 값에 의한 전달

원시 타입을 값으로 갖는 변수를 다른 변수에 할당 한 뒤 원본의 값을 변경한다면 이후에 할당된 변수의 값 또한 변경될까? 답은 아니다. 변수를 다른 변수에 할당하는 시점에서 원본의 원시 값을 복사한 새로운 원시 값을 생성하고 새로 생성된 값의 메모리 주소를 할당한다. 따라서 두 변수의 값은 같지만 메모리 주소가 다르기 때문에 다른 값이다. 이를 값에 의한 전달이라 한다.

하지만 값에 의한 전달 이라는 말은 정확하진 않다. 전달되는 것은 값이 아닌 값의 메모리 주소이기 때문이다.

# 11.2 객체

객체는 프로퍼티를 여러 개 가질 수 있으며 프로퍼티의 값들도 많은 타입들이 가능하다 보니 선언 단계에서 메모리 공간을 미리 확보하기 힘들다.

### 11.2.1 변경 가능한 값

객체 타입은 원시 타입과는 달리 메모리 주소를 갖고 그 메모리 주소의 값은 객체 자체가 아닌 객체를 참조하고 있다.

객체 타입이 이러한 구조인 이유는 객체가 굉장히 복잡한 값을 가질 수 있기 때문이다. 만약 객체 타입이 원시 타입처럼 재할당 할 때 변경된 객체를 새로 생성하는 방식이라면 프로퍼티가 다수일 경우 메모리의 낭비가 심해진다.

객체는 변경 가능한 값이기에 프로퍼티를 동적으로 추가하거나 프로퍼티의 값을 갱신할 수 있다.

하지만 객체는 하나의 객체를 여러 변수가 공유할 수 있다는 단점을 갖는다.

### 11.2.2 참조에 의한 전달

한 변수가 값으로 객체를 갖고 있을 때, 이 변수를 다른 변수의 값으로 할당 할 때 두 변수는 같은 객체를 값으로 참조한다. 새로운 값을 생성하여 할당하는 원시 타입 과는 다른 방식이다. 이를 참조에 의한 전달 이라고 한다.

사실 참조에 의한 전달도 변수가 갖는 값의 메모리 주소를 할당 한다는 점에서 값에 의한 전달과 동일하다. 하지만 실제로 변수에 저장되는 값이 다르다.
